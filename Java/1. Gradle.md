# Gradle - gestion de dépendences

Gradle est un programme permettant de gérer les dépendances de projet Java, également la compilation et l'exécution du projet.

On peut le comparer à NPM pour Javascript PIP pour Python ou encore Make pour le C.

Notre objectif sera de créer un projet avec gradle et d'y ajouter une dépendance externe. 

## Installer gradle

Pour installer gradle sous UNIX, il faut utiliser le programme SDKMAN!

```bash
sdk install gradle
```

## Générer un projet java avec gradle

Ressource détaillé : https://docs.gradle.org/current/userguide/part1_gradle_init.html#step_1_initializing_the_project

Pour générer un projet Java avec `gradle init`.


>Il faut aussi lui préciser le langage de programmation utilisé, c'est à dire Java. Ainsi que le langage de configuration utilisé, nous avons le choix entre kotlin et groovy. Nous allons utiliser groovy qui est le choix le plus classique. 

>Le langage de configuration n'est pas très important et constitue un détail dans le projet.

1 Créez un projet avec `gradle init`

```bash
mkdir projet
cd projet
gradle init --type java-application -dsl grovvy
``` 

Laissez tous les choix par défauts et faites `Entrer` en boucle.

## Ou est notre main() ?

La méthode main() se trouve ici :
```
app/src/main/java/org/App.java
```

Il devrait ressembler à ca :

```java
/*
 * This source file was generated by the Gradle 'init' task
 */
package org.example;

public class App {
    public String getGreeting() {
        return "Hello World!";
    }

    public static void main(String[] args) {
        System.out.println(new App().getGreeting());
    }
}
```

## Compiler mon projet gradle

```bash
./gradlew build
```

La compilation a normalement créé juste à côté du dossier SRC dans le dossier APP, un dossier nommé Build. 

C'est dans le dossier Bill que se trouve votre application compilée. 

Il est temps d'exécuter le projet.

## Executer l'application avec gradle

Cradle permet également d'exécuter notre application Java. 

Pour ce faire, rentrez simplement la commande suivante :

```bash
./gradlew run
```

Vous devriez normalement voir dans votre terminal le résultat de votre programme, c'est à dire la **** Hello World. 

```bash
Calculating task graph as no cached configuration is available for tasks: run

> Task :app:run
Hello World!

BUILD SUCCESSFUL in 625ms
2 actionable tasks: 1 executed, 1 up-to-date
Configuration cache entry stored.
```

Gradle vous affiche également quelques informations annexes quant à votre projet.

## Résumé des commandes pour créer et executer un projet

```bash
mkdir projet  # Créer un dossier pour le projet
cd projet
gradle init --type java-application -dsl grovvy # Générer les fichiers du projet
./gradlew build # Compiler le projet

./gradlew run   # Compiler et executer le projet
```